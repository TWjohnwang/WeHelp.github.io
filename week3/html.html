<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- <div class="promotion"></div>
    <div class="promotion"></div> -->
    <script>
      let attractionName = [];
      let attractionPhoto = [];
      (function () {
        fetch(
          "https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json"
        )
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            // for
            for (let name of data.result.results) {
              attractionName.push(name.stitle);
              attractionPhoto.push(
                // The substr(起始index, 結束index) method extracts a part of a string.
                // The "i" modifier specifies a case-insenitive match.
                name.file.substr(0, name.file.search(/jpg/i) + 3)
              );
            }
          })
          .then(() => {
            for (let i = 0; i < attractionName.length; i++) {
              if (i < 2) {
                let attraction = document.createElement("div");
                attraction.classList.add("promotion");
                attraction.textContent = attractionName[i];
                document.body.appendChild(attraction);
              }
            }
          });
      })();

      //   let attraction = document.createElement("div");
      //   attraction.textContent = attractionName;
      //   document.body.appendChild(attraction);

      //   let attracitons = fetch(
      //     "https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json"
      //   )
      //     .then(function (response) {
      //       return response.json();
      //     })
      //     .then(function (data) {
      //       return data.result.results;
      //     });
      //   console.log(attracitons);
    </script>
  </body>
</html>
